<!-- contact.component.html -->
<main class="container my-5">
  <h2
    class="text-center my-5 display-4 fw-bold"
    style="color: var(--main-bg-color)"
  >
    CONTACTO
  </h2>

  <div class="row">
    <!-- Información de contacto -->
    <div class="col-lg-6 mb-4">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <p class="card-text">
            ¿Tienes dudas sobre alguna figura? ¿Quieres sugerirnos un nuevo personaje?
            ¡Escríbenos y te responderemos lo antes posible!
          </p>
          <p class="card-text">
            También puedes contactarnos para pedidos personalizados, disponibilidad de productos, o colaboraciones.
            Somos fans como tú, y nos encanta ayudarte a completar tu colección.
          </p>          

          <h5 class="card-title mt-4">
            <strong>Teléfonos de contacto</strong>
          </h5>
          <ul class="list-unstyled">
            <li class="mb-2">0033 662 80 89 08</li>
            <li class="mb-2">0034 912 34 56 78</li>
            <li>0034 934 56 78 90</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Formulario de contacto -->
    <div class="col-lg-6">
      <div class="card shadow">
        <div class="card-body">
          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
            <div class="mb-3">
              <label for="name" class="form-label">Nombre:</label>
              <input
                type="text"
                class="form-control"
                id="name"
                formControlName="name"
              />
              <div
                *ngIf="
                  contactForm.get('name')?.invalid &&
                  contactForm.get('name')?.touched
                "
                class="text-danger"
              >
                Por favor ingresa tu nombre
              </div>
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">Email:</label>
              <input
                type="email"
                class="form-control"
                id="email"
                formControlName="email"
                [ngClass]="{
                  'is-invalid':
                    contactForm.get('email')?.invalid &&
                    (contactForm.get('email')?.dirty ||
                      contactForm.get('email')?.touched)
                }"
              />
              <div
                *ngIf="
                  contactForm.get('email')?.invalid &&
                  (contactForm.get('email')?.dirty ||
                    contactForm.get('email')?.touched)
                "
                class="invalid-feedback"
              >
                Por favor ingresa un email válido
              </div>
            </div>

            <div class="mb-3">
              <label for="message" class="form-label">Mensaje:</label>
              <textarea
                class="form-control"
                id="message"
                rows="4"
                formControlName="message"
                [ngClass]="{
                  'is-invalid':
                    contactForm.get('message')?.invalid &&
                    (contactForm.get('message')?.dirty ||
                      contactForm.get('message')?.touched)
                }"
              ></textarea>
              <div
                *ngIf="
                  contactForm.get('message')?.invalid &&
                  (contactForm.get('message')?.dirty ||
                    contactForm.get('message')?.touched)
                "
                class="invalid-feedback"
              >
                Por favor ingresa tu mensaje
              </div>
            </div>

            <div class="mb-3 form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="acceptPolicies"
                formControlName="acceptPolicies"
              />
              <label class="form-check-label" for="acceptPolicies">
                Acepto las
                <a routerLink="/politica-privacidad" class="text-primary"
                  >políticas de privacidad</a
                >.
              </label>
              <div
                *ngIf="
                  contactForm.get('acceptPolicies')?.invalid &&
                  contactForm.get('acceptPolicies')?.touched
                "
                class="text-danger small"
              >
                Debes aceptar las políticas de privacidad
              </div>
            </div>

            <button
              type="submit"
              class="btn btn-danger w-100 py-2"
              [disabled]="contactForm.invalid"
            >
              Enviar mensaje
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Mapa de ubicación -->
    <div class="col-12 mt-5">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title">
            <strong>Ubicación</strong>
          </h5>
          <div class="map-container" style="height: 400px; width: 100%;">
            <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d192.49802791341708!2d-0.383120878347482!3d39.470041536690765!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd6048b514b9022d%3A0x682bf48077e7ab19!2sCARTOONCORP%20EVOLUTION%20-%20Merchandising%20-%20Figuras%20-%20Manga%20-%20C%C3%B3mic!5e0!3m2!1ses!2ses!4v1746585015200!5m2!1ses!2ses" 
            width="600" 
            height="450" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
